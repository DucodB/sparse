# Sparse - Simple Strace Parser

Sparse is a simple tool designed to parse syscall traces generated by `strace` and extract unique syscall names, ignoring parameters, results, and signals. This tool is useful for analyzing system call behavior in various applications.

## Files

### sparse.cpp

`sparse.cpp` contains the source code for the Sparse tool. It is written in C++ and provides functionalities to read the contents of a file, parse syscall lines, remove duplicates, and write the results to an output file.

#### Usage

```bash
./sparse <input filename> [output filename]
```

- `<input filename>`: Path to the file containing syscall traces generated by `strace`.
- `[output filename]`: (Optional) Path to the file where the unique syscall names will be written. If not provided, the results will be printed to the console.

### traceparse.sh

`traceparse.sh` is a shell script designed to automate the process of running `strace`, generating syscall traces, and using Sparse to parse the traces.

#### Usage

```bash
./traceparse.sh <filename> <application> [additional parameters application]
```

- `<filename>`: Name for the output file to store syscall traces.
- `<application>`: The application for which syscall traces will be generated.
- `[additional parameters  application]`: (Optional) Additional parameters to be passed to the application.

## Usage

1. **Compile Sparse**: Compile `sparse.cpp` using a C++ compiler of choice.
   ```bash
   g++ sparse.cpp -o sparse
   ```

2. **Run traceparse.sh**: Execute `traceparse.sh` script with appropriate parameters.
   ```bash
   ./traceparse.sh <filename> <application> [additional parameters]
   ```

3. **View Results**: The unique syscall names will be written to the specified output file or printed to the console.

## Example

```bash
./traceparse.sh myapp.txt myapplication arg1 arg2
```

This command will generate syscall traces for `myapplication` with arguments `arg1` and `arg2`, parse the traces using Sparse, and store the unique syscall names in `res_myapp.txt`.
