# Sparse - Simple Strace Parser

Sparse is a simple tool designed to parse syscall traces generated by `strace` and extract unique syscall names, ignoring parameters, results, and signals. This tool is useful for analyzing system call behavior in various applications.

## Files

### sparse.cpp

`sparse.cpp` contains the source code for the Sparse tool. It is written in C++ and provides functionalities to read the contents of a file, parse syscall lines, remove duplicates, and write the results to an output file.

#### Usage

```
./sparse <input filename> [output filename]
```

- `<input filename>`: Path to the file containing syscall traces generated by `strace`.
- `[output filename]`: (Optional) Path to the file where the unique syscall names will be written. If not provided, the results will be printed to the console.

### traceparse.sh

`traceparse.sh` is a shell script designed to automate the process of running `strace`, generating syscall traces, and using Sparse to parse the traces.

#### Usage

```
./traceparse.sh <filename> <application> [additional parameters application]
```

- `<filename>`: Name for the output file to store syscall traces.
- `<application>`: Command for the application for which syscall traces will be generated.
- `[additional parameters  application]`: (Optional) Additional parameters to be passed to the application.

## Usage
To use Sparse, follow these steps:
1. **Compile the Program**: Compile `sparse.cpp` using a C++ compiler of choice.
   ```
   g++ sparse.cpp -o sparse
   ```

2. **Run the Program**: Execute `traceparse.sh` script with appropriate parameters.
   ```
   ./traceparse.sh <output_file> <application> [additional parameters]
   ```
   - `<output_file>`: Name for the output file to store syscall traces.
   - `<application>`: Command for the application for which syscall traces will be generated.
   - `[additional parameters]`: (Optional) Additional parameters to be passed to the application.

3. **View Results**: The unique syscall names will be written, line by line, to `<output_file>`.

## Example

```bash
./traceparse.sh myapp.txt myapplication arg1 arg2
```

This command will run `myapplication arg1 arg2`, while tracing it with Strace. Then the traces will be parsed using Sparse, finally storing the unique syscall names in `myapp.txt`.

## Note
   - The  `traceparse.sh` script will not run if the file `temp_<output_file>` already exists. This is to avoid unexpected file deletion.
